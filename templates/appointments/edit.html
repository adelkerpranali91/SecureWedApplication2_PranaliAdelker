{% extends "base.html" %}
{% block content %}

<style>
.form-row { display:flex; gap:12px; flex-wrap:wrap; }
.form-group { flex:1 1 220px; display:flex; flex-direction:column; margin-bottom:12px; }
label { font-weight:600; margin-bottom:6px; }
input[type="text"], input[type="date"], input[type="time"], select, textarea {
  padding:8px 10px; border-radius:6px; border:1px solid #dcdcdc; font-size:14px;
}
textarea { min-height:80px; resize:vertical; }
.btn { display:inline-block; padding:10px 16px; border-radius:8px; background:#4b4bff; color:#fff; border:none; cursor:pointer; }
.btn.secondary { background:#666; margin-left:10px; color:#fff; padding:10px 12px; border-radius:8px; text-decoration:none;}
</style>

<h2>Edit appointment</h2>

<form method="post" action="{{ url_for('manage_appointment_view', apt_id=appointment.id) }}">
  <div class="form-row">
    <div class="form-group">
      <label>Patient (username)</label>
      <input type="text" name="patient_username" value="{{ appointment.patient_username | e }}" required>
    </div>

    <div class="form-group">
      <label>Doctor</label>
      <input type="text" name="doctor_name" value="{{ appointment.doctor_name | e }}" required>
    </div>

    <div class="form-group">
      <label>Date</label>
      <input type="date" name="date" value="{{ appointment.date | e }}" required>
    </div>

    <div class="form-group">
      <label>Time</label>
      <input type="time" name="time" value="{{ appointment.time | e }}" required>
    </div>
  </div>

  <div class="form-group">
    <label>Reason / Notes</label>
    <textarea name="reason">{{ appointment.reason | e }}</textarea>
  </div>

  <div style="margin-top:12px;">
    <button type="submit" name="action" value="update" class="btn">Save</button>
    <button type="submit" name="action" value="delete" class="btn secondary" onclick="return confirm('Delete this appointment?')">Delete</button>
    <a href="{{ url_for('dashboard') }}" class="btn secondary">Cancel</a>
  </div>
</form>

{% endblock %}
